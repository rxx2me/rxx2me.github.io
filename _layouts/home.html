---
layout: default
---

{%- comment -%}
CSS محلي خفيف: أيقونة التصنيف كخلفية، بدون <img> نهائيًا
{%- endcomment -%}
<style>
/* ترتيب عنوان التدوينة مع الأيقونة */
.post-title .post-title-wrap{
  display:inline-flex;align-items:center;gap:.5rem
}
/* الأيقونة: خلفية قابلة للتغيير بالحجم */
.cat-badge{
  width:55px;height:55px;display:inline-block;border-radius:8px;
  background-size:contain;background-repeat:no-repeat;background-position:center;
  flex:0 0 55px;vertical-align:middle
}
/* حماية إضافية: لا تسمح لأي صورة جوّا عنوان البوست تتمدّد (احتياط) */
.post-preview .post-title img{max-width:55px;max-height:55px;display:inline-block}
</style>

{%- assign posts = paginator.posts | default: site.posts -%}
{%- assign df = site.data.locales[site.lang].df_post | default: "%Y-%m-%d" -%}

<div class="post-list">
{%- for post in posts -%}
  {%- assign cat = post.categorie | default: post.categories -%}
  {%- assign cat = cat | first | downcase -%}
  {%- assign badge = post.cat_image | default: site.data.category_badges[cat] -%}

  <article class="post-preview">
    <h1 class="post-title">
      <a class="post-title-wrap" href="{{ post.url | relative_url }}">
        {%- if badge -%}
          <span class="cat-badge" style="background-image:url('{{ badge | relative_url }}')"></span>
        {%- endif -%}
        <span class="post-title-text">{{ post.title | escape }}</span>
      </a>
    </h1>

    {%- if post.excerpt -%}
    <div class="post-excerpt">
      {{ post.excerpt | strip_html | truncate: 160 }}
    </div>
    {%- endif -%}

    <div class="post-meta">
      <span class="post-date">{{ post.date | date: df }}</span>
      {%- if post.categories and post.categories != empty -%}
        <span class="post-cat"> •
          {%- for c in post.categories -%}
            {%- assign slug = c | slugify -%}
            <a href="{{ '/categories/' | append: slug | append: '/' | relative_url }}">{{ c }}</a>{% unless forloop.last %}, {% endunless %}
          {%- endfor -%}
        </span>
      {%- endif -%}
    </div>
  </article>
{%- endfor -%}
</div>

{%- if paginator and paginator.total_pages and paginator.total_pages > 1 -%}
  {%- include paginator.html -%}
{%- endif -%}
