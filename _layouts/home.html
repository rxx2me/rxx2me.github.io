---
layout: default
---

{%- comment -%}
تنسيق محلي:
- عمود للأيقونة + عمود للنص باستخدام CSS Grid
- مقاسات قابلة للتعديل عبر المتغيرات --badge و --gap
- يعمل مع RTL/LTR بدون ما نخرب ستايل الثيم
{%- endcomment -%}
<style>
:root{
  --badge: 72px;   /* حجم الأيقونة: غيّرها مثلاً إلى 64px أو 80px */
  --gap:   12px;   /* المسافة بين الأيقونة والعنوان */
}

/* صف العنوان: عمود للأيقونة وعمود للنص */
.post-title .post-title-wrap{
  display: grid;
  grid-template-columns: var(--badge) 1fr;
  align-items: center;
  column-gap: var(--gap);
  text-decoration: none;
}

/* الأيقونة كخلفية بدون <img> */
.cat-badge{
  inline-size: var(--badge);
  block-size:  var(--badge);
  display: inline-block;
  border-radius: 12px;
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  /* منع تمدد داخل بطاقات الثيم */
  flex: 0 0 var(--badge);
}

/* لو حاب تضيف مسافة خفيفة حول البطاقة من داخلها (اختياري) */
/* .post-preview { padding: 6px 8px; } */

/* ضمان أن أي صورة داخل العنوان ما تتمدد بالغلط (احتياط) */
.post-preview .post-title img{
  max-inline-size: var(--badge);
  max-block-size:  var(--badge);
}
</style>

{%- assign posts = paginator.posts | default: site.posts -%}
{%- assign df = site.data.locales[site.lang].df_post | default: "%Y-%m-%d" -%}

<div class="post-list">
{%- for post in posts -%}
  {%- assign cat = post.categorie | default: post.categories -%}
  {%- assign cat = cat | first | downcase -%}
  {%- assign badge = post.cat_image | default: site.data.category_badges[cat] -%}

  <article class="post-preview">
    <h1 class="post-title">
      <a class="post-title-wrap" href="{{ post.url | relative_url }}">
        {%- if badge -%}
          <span class="cat-badge" style="background-image:url('{{ badge | relative_url }}')"></span>
        {%- endif -%}
        <span class="post-title-text">{{ post.title | escape }}</span>
      </a>
    </h1>

    {%- if post.excerpt -%}
    <div class="post-excerpt">
      {{ post.excerpt | strip_html | truncate: 160 }}
    </div>
    {%- endif -%}

    <div class="post-meta">
      <span class="post-date">{{ post.date | date: df }}</span>
      {%- if post.categories and post.categories != empty -%}
        <span class="post-cat"> •
          {%- for c in post.categories -%}
            {%- assign slug = c | slugify -%}
            <a href="{{ '/categories/' | append: slug | append: '/' | relative_url }}">{{ c }}</a>{% unless forloop.last %}, {% endunless %}
          {%- endfor -%}
        </span>
      {%- endif -%}
    </div>
  </article>
{%- endfor -%}
</div>

{%- if paginator and paginator.total_pages and paginator.total_pages > 1 -%}
  {%- include paginator.html -%}
{%- endif -%}
